# 班级日志系统 - 需求讨论记录

## 技术栈

- **前端**: HTML + CSS + JS + React + Vite + Ant Design
- **后端**: Django + Django REST Framework
- **数据库**: PostgreSQL
- **API风格**: RESTful API

## 角色与权限

| 角色 | 写日志 | 查看日志 | 管理用户 |
|------|--------|----------|----------|
| 学生 | ❌ | ✅ | ❌ |
| 班长 | ✅ 值日、出勤、整体情况 | ✅ | ❌ |
| 纪律委员 | ✅ 纪律日志 | ✅ | ❌ |
| 课代表(6科) | ✅ 本科目作业日志 | ✅ | ❌ |
| 老师 | ❌ | ✅ | ✅ |

**说明**：
- 一人可多角色（如：某学生同时是班长+数学课代表）
- 多个老师，权限相同
- 课代表科目：语文、数学、英语、物理、化学、生物

## 日志类型与字段

### 1. 班长日志
- 日期
- 值日生名单
- 值日评分/评价
- 迟到学生名单
- 缺勤学生名单
- 整体情况描述

### 2. 纪律日志
- 日期
- 课节（第几节课）
- 科目
- 违纪学生名单
- 违纪类型（说话、睡觉、玩手机...）
- 违纪描述
- 衣着情况
- 整体纪律评分

### 3. 作业日志
- 日期
- 科目（语/数/英/物/化/生）
- 作业内容描述
- 应交人数
- 实交人数
- 未交学生名单

## 系统设置

- **班级结构**: 单个班级，无年级/学校层级
- **日志审批**: 不需要，提交后直接生效
- **统计报表**: 暂不需要
- **导出功能**: 暂不需要

## 消息通知

**通知方式**: 站内消息

**通知场景**:
- 新日志提交时通知老师
- 提醒值日生/课代表填写日志
- 学生被记违纪时通知该学生

## 页面设计

### 首页布局（从上到下）
1. **欢迎区** - "Welcome 用户名 + 职位"
2. **近期班级日志** - 展示最近几天的日志列表
3. **待办提醒** - 当前用户需要完成的任务
4. **当日评论区** - 所有人可评论、可点赞，只显示当天内容

### 通用页面
- 登录页
- 注册页（学生自行注册）
- 首页/仪表盘
- 消息通知页

### 日志相关
- 班长日志列表/详情/编辑页
- 纪律日志列表/详情/编辑页
- 作业日志列表/详情/编辑页
- 补填申请页

### 管理页面（老师）
- 学生管理（审核注册、角色分配）
- 补填申请审批

---

## 用户管理

### 注册与登录
- **学生**: 自行注册，注册即可用，无需审核
- **老师**: 系统预设或管理员创建，不开放注册

### 角色分配
- 老师可为学生分配角色（班长、纪律委员、课代表）
- 一人可多角色

---

## 日志规则

### 日志编辑
- 日志提交后**可修改、可删除**

### 日志日期限制
- **当天日志**: 可直接填写
- **历史日志补填**: 需向老师提交申请，审批通过后才能填写
- 所有角色（班长、纪律委员、课代表）补填历史日志都需要申请

---

## 评论区功能

- 位于首页底部
- 所有用户可发表评论
- 所有用户可点赞
- 只显示当天的评论内容
- 用户可删除自己发的评论，不能删除他人评论

---

## 已确认内容汇总

- [x] 技术栈确认
- [x] 角色与权限确认
- [x] 日志类型与字段确认
- [x] 系统设置确认
- [x] 消息通知确认
- [x] 页面设计确认
- [x] 用户管理确认
- [x] 日志规则确认
- [x] 评论区功能确认
